\usepackage{fontspec}
\usepackage{parskip}
\usepackage{fancyhdr}
\usepackage{titlesec}

\defaultfontfeatures{Scale=MatchLowercase}
\setmainfont[Ligatures=TeX,
BoldFont=texgyrepagella-bold.otf,
BoldItalicFont=texgyrepagella-bolditalic.otf,
ItalicFont=texgyrepagella-italic.otf]{texgyrepagella-regular.otf}
\setsansfont[Ligatures=TeX,
BoldFont=lmsans10-bold.otf,
BoldItalicFont=lmsans10-boldoblique.otf,
ItalicFont=lmsans10-oblique.otf]{lmsans10-regular.otf}
\setmonofont[BoldFont=lmmonolt10-bold.otf,
BoldItalicFont=lmmonolt10-boldoblique.otf,
ItalicFont=lmmono10-italic.otf,
SlantedFont=lmmonoslant10-regular.otf]{lmmono10-regular.otf}
\setmathfont{texgyrepagella-math.otf}
\setmathfont[range={\mathcal,\mathbfcal},StylisticSet=1]{xits-math.otf}
\setlength{\parindent}{24pt}
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{1}


 
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\parttitle}
\fancyhead[RE,LO]{\leftmark}
\fancyfoot[RE]{Final degree project}
\fancyfoot[LO]{\emph{Platform for multiplayer programming games}}
\fancyfoot[LE,RO]{\thepage}

\renewcommand{\footrulewidth}{0.5pt}
\setlength{\marginparwidth}{0pt}
\setlength{\parskip}{0.8em}


\titleformat{\chapter}{\normalfont\bfseries}{\Huge\thechapter}{20pt}{\Huge}
\newcommand*{\fullref}[1]{\hyperref[{#1}]{\autoref*{#1} \nameref*{#1}}}
\let\Oldpart\part
\newcommand{\parttitle}{}
\renewcommand{\part}[1]{\Oldpart{#1}\renewcommand{\parttitle}{\thepart. #1}}